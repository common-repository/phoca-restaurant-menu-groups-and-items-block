!function(){"use strict";var e,t={261:function(){var e=window.wp.element,t=window.wp.blocks,n=window.wp.i18n,r=window.wp.blockEditor,i=window.wp.components,a=function({icon:t,size:n=24,...r}){return(0,e.cloneElement)(t,{width:n,height:n,...r})},c=window.wp.primitives,o=(0,e.createElement)(c.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(c.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})),l=(0,e.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(c.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),m=window.wp.data,s=JSON.parse('{"u2":"phoca/phoca-restaurant-menu-groups-items-block"}');(0,t.registerBlockType)(s.u2,{edit:function(t){const{attributes:c,setAttributes:s}=t,u=t.clientId,{group:p,groupDescription:d,items:h}=c,{inheritedMenuType:E,inheritedHideImages:g,inheritedPriceFormat:I,inheritedPriceCurrencySymbol:M,inheritedPriceDecimalSymbol:v,inheritedPriceDecimals:k,inheritedPriceThousandsSeparator:w,inheritedPriceSuffix:y,inheritedPricePrefix:f,inheritedAdminDisplayGroupDescription:b,inheritedAdminDisplayItemDescription:N}=c,x=(0,m.select)("core/block-editor").getBlockParents(t.clientId),P=(0,m.select)("core/block-editor").getBlockAttributes(x[0]);E||s({inheritedMenuType:P.menuType}),g||s({inheritedHideImages:P.hideImages}),I||s({inheritedPriceFormat:P.priceFormat}),M||s({inheritedPriceCurrencySymbol:P.priceCurrencySymbol}),v||s({inheritedPriceDecimalSymbol:P.priceDecimalSymbol}),k||s({inheritedPriceDecimals:P.priceDecimals}),w||s({inheritedPriceThousandsSeparator:P.priceThousandsSeparator}),y||s({inheritedPriceSuffix:P.priceSuffix}),f||s({inheritedPricePrefix:P.pricePrefix}),b||s({inheritedAdminDisplayGroupDescription:P.adminDisplayGroupDescription}),N||s({inheritedAdminDisplayItemDescription:P.adminDisplayItemDescription});const D=(e,t,n)=>{const r=[...h];r[e][t]=n,s({items:r})};let _="phMenuHide";b&&(_="phMenuDisplay");let C="phMenuItemEdit phMenuItemEditItemDescription phMenuHide";return N&&(C="phMenuItemEdit phMenuItemEditItemDescription phMenuDisplay"),(0,e.createElement)("div",{className:"phMenuBoxMenuGroupsItems",key:`block-${u}`,id:`block-${u}`},(0,e.createElement)("div",{...(0,r.useBlockProps)()},(0,e.createElement)(r.BlockControls,null,(0,e.createElement)(r.AlignmentToolbar,{value:c.alignment,onChange:e=>{s({alignment:void 0===e?"none":e})}})),(0,e.createElement)("h5",null,(0,n.__)("Groups and Items","phoca-restaurant-menu-groups-items-block"))),(0,e.createElement)(i.TextControl,{label:(0,n.__)("Group","phoca-restaurant-menu-groups-items-block"),value:p,onChange:e=>s({group:e})}),(0,e.createElement)(i.TextareaControl,{className:_,label:(0,n.__)("Group Description","phoca-restaurant-menu-groups-items-block"),value:d,onChange:e=>s({groupDescription:e})}),(0,e.createElement)("div",{className:"phMenuItemEditsBoxHeader"},(0,e.createElement)("div",{className:"phMenuItemEditHeader phMenuItemEditImage"},(0,n.__)("Image","phoca-restaurant-menu-groups-items-block")),(0,e.createElement)("div",{className:"phMenuItemEditHeader phMenuItemEditQuantity"},(0,n.__)("Quantity","phoca-restaurant-menu-groups-items-block")),(0,e.createElement)("div",{className:"phMenuItemEditHeader phMenuItemEditTitle"},(0,n.__)("Title","phoca-restaurant-menu-groups-items-block")),(0,e.createElement)("div",{className:"phMenuItemEditHeader phMenuItemEditPrice"},(0,n.__)("Price","phoca-restaurant-menu-groups-items-block"))),h.map(((t,c)=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{key:`items-${u}-${c}`,className:"form-row phMenuItemEditRowBox"},(0,e.createElement)(r.MediaUploadCheck,null,(0,e.createElement)(r.MediaUpload,{className:"form-row phMenuItemEdit phMenuItemEditImage",key:`image-${u}-${c}`,onSelect:e=>D(c,"image",e.url),allowedTypes:["image"],value:t.image,render:({open:r})=>(0,e.createElement)("div",{className:"phMenuItemEdit phMenuItemEditImageSelectedButtonBox"},(0,e.createElement)("button",{className:"phMenuItemEditImageSelectedBox",onClick:r},t.image?(0,e.createElement)("img",{className:"phMenuItemEditImageSelected",src:t.image,alt:(0,n.__)("Selected","phoca-restaurant-menu-groups-items-block")}):(0,e.createElement)(a,{icon:o})))})),(0,e.createElement)(i.TextControl,{className:"phMenuItemEdit phMenuItemEditQuantity",key:`quantity-${u}-${c}`,value:t.quantity,onChange:e=>D(c,"quantity",e)}),(0,e.createElement)(i.TextControl,{className:"phMenuItemEdit phMenuItemEditTitle",key:`title-${u}-${c}`,value:t.title,onChange:e=>D(c,"title",e)}),(0,e.createElement)(i.TextControl,{className:"phMenuItemEdit phMenuItemEditPrice",key:`price-${u}-${c}`,value:t.price,onChange:e=>D(c,"price",e)}),(0,e.createElement)("div",{className:"phMenuItemEdit phMenuButtonRemoveBox"},(0,e.createElement)(i.Button,{onClick:()=>(e=>{const t=h.filter(((t,n)=>n!==e));s({items:t})})(c),isDestructive:!0,className:"phMenuButtonRemove",key:`remove-${u}-${c}`},(0,e.createElement)(a,{icon:l,alt:(0,n.__)("Remove Item","phoca-restaurant-menu-groups-items-block")})))),(0,e.createElement)("div",null,(0,e.createElement)(i.TextareaControl,{className:C,label:(0,n.__)("Item Description","phoca-restaurant-menu-groups-items-block"),value:t.description,onChange:e=>D(c,"description",e)}))))),(0,e.createElement)(i.Button,{variant:"secondary",onClick:()=>{const e=[...h,{image:"",quantity:"",title:"",price:"",description:""}];s({items:e})},className:"phMenuButtonAdd"},(0,n.__)("Add Item","phoca-restaurant-menu-groups-items-block")))},save:function(t){const{attributes:n}=t,{group:i,groupDescription:a,items:c}=n,o=(n.inheritedMenuType,n.inheritedHideImages),l=n.inheritedPriceFormat,m=n.inheritedPriceCurrencySymbol,s=n.inheritedPriceDecimalSymbol,u=n.inheritedPriceDecimals,p=n.inheritedPriceThousandsSeparator,d=n.inheritedPriceSuffix,h=n.inheritedPricePrefix,E=structuredClone(c);return c.forEach((function(e,t){E[t].price=function(e,t,n,r){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var i=isFinite(+e)?+e:0,a=isFinite(+t)?Math.abs(t):0,c=void 0===r?",":r,o=void 0===n?".":n,l="";return(l=(a?function(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}(i,a):""+Math.round(i)).split("."))[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,c)),(l[1]||"").length<a&&(l[1]=l[1]||"",l[1]+=new Array(a-l[1].length+1).join("0")),l.join(o)}(e.price,u,s,p),E[t].price="2"==l?E[t].price+""+m:"3"==l?m+""+E[t].price:"4"==l?m+" "+E[t].price:E[t].price+" "+m,""!=h&&(E[t].price=h+E[t].price),""!=d&&(E[t].price=E[t].price+d)})),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{...r.useBlockProps.save()},t.message),(0,e.createElement)("div",{className:"phMenuGroupRowBox"},(0,e.createElement)("h3",{className:"phMenuGroup"},i),""!=a?(0,e.createElement)("div",{className:"phMenuGroupDescription"},a):(0,e.createElement)(e.Fragment,null),(0,e.createElement)("div",{className:"phMenuItemsBox"},E.map(((t,n)=>(0,e.createElement)(e.Fragment,null,""!=t.title?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{key:n,className:"phMenuItemRowBox"},o?(0,e.createElement)("div",{className:"phMenuItem phMenuItemImage phMenuItemNoImage"}):(0,e.createElement)("div",{className:"phMenuItem phMenuItemImage"},(0,e.createElement)("img",{src:t.image})),(0,e.createElement)("div",{className:"phMenuItem phMenuItemQuantity"},t.quantity),(0,e.createElement)("div",{className:"phMenuItem phMenuItemTitle"},t.title),(0,e.createElement)("div",{className:"phMenuItem phMenuItemPrice"},t.price)),""!=t.description?(0,e.createElement)("div",{className:"phMenuItemRowBox"},o?(0,e.createElement)("div",{className:"phMenuItem phMenuItemImage phMenuItemNoImage"}):(0,e.createElement)("div",{className:"phMenuItem phMenuItemImage"}),(0,e.createElement)("div",{className:"phMenuItem phMenuItemQuantity"}),(0,e.createElement)("div",{className:"phMenuItem phMenuItemDescription"},t.description),(0,e.createElement)("div",{className:"phMenuItem phMenuItemPrice"})):(0,e.createElement)(e.Fragment,null)):(0,e.createElement)("div",{key:n,className:"phMenuItemRowBox"})))))))},icon:{src:(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"ionicon",viewBox:"0 0 512 512"},(0,e.createElement)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M160 144h288M160 256h288M160 368h288"}),(0,e.createElement)("circle",{cx:"80",cy:"144",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),(0,e.createElement)("circle",{cx:"80",cy:"256",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),(0,e.createElement)("circle",{cx:"80",cy:"368",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}))}})}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=function(t,n,i,a){if(!n){var c=1/0;for(s=0;s<e.length;s++){n=e[s][0],i=e[s][1],a=e[s][2];for(var o=!0,l=0;l<n.length;l++)(!1&a||c>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(o=!1,a<c&&(c=a));if(o){e.splice(s--,1);var m=i();void 0!==m&&(t=m)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[n,i,a]},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,a,c=n[0],o=n[1],l=n[2],m=0;if(c.some((function(t){return 0!==e[t]}))){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(l)var s=l(r)}for(t&&t(n);m<c.length;m++)a=c[m],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(s)},n=self.webpackChunkphoca_restaurant_menu_groups_items_block=self.webpackChunkphoca_restaurant_menu_groups_items_block||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var i=r.O(void 0,[431],(function(){return r(261)}));i=r.O(i)}();